<center><div id="coin"></div><br><div class="board"></div></center><script>let board=document.querySelector(".board"),coin=document.querySelector("#coin"),playerState="red",win=!1;for(let t=0;t<42;t++){let e=document.createElement("div");e.classList.add("cell"),e.setAttribute("col",t%7),e.setAttribute("row",Math.floor(t/7)),e.setAttribute("player","none"),e.addEventListener("mouseover",(()=>{win||coin.setAttribute("style",`background-color: ${playerState}; transform: translateX(${90*-(3-Number(e.getAttribute("col")))}px); opacity: 1;`)})),e.addEventListener("mouseout",(()=>{coin.setAttribute("style","opacity: 0;")})),e.addEventListener("click",(()=>{if(win)return;let t=Number(e.getAttribute("col")),r=(Number(e.getAttribute("row")),e.getAttribute("player"),0);for(;r<5&&"none"===board.querySelector(`[col="${t}"][row="${r+1}"]`).getAttribute("player");)r++;let o=board.querySelector(`[col="${t}"][row="${r}"]`);o.setAttribute("player",playerState);for(let e=0;e<90*(r+1)+40;e++)setTimeout((()=>{coin.setAttribute("style",`background-color: ${playerState}; transform: translateX(${90*-(3-t)}px) translateY(${e}px); opacity: 1;`)}),2*e);setTimeout((()=>{coin.setAttribute("style","opacity: 0;"),o.style.backgroundColor=playerState,playerState="red"===playerState?"yellow":"red",checkWinner()}),2*(90*(r+1)+40))})),board.appendChild(e)}const checkWinner=()=>{board.querySelectorAll(".cell").forEach((t=>{let e=Number(t.getAttribute("col")),r=Number(t.getAttribute("row")),o=[t];[[1,0],[0,1],[1,1],[-1,1]].forEach((l=>{for(let a=1;a<4&&(0<=e+a*l[0]&&e+a*l[0]<7&&0<=r+a*l[1]&&r+a*l[1]<6);a++){let c=board.querySelector(`[col="${e+a*l[0]}"][row="${r+a*l[1]}"]`);c.getAttribute("player")==t.getAttribute("player")&&o.push(c)}4===o.length&&"none"!==o[0].getAttribute("player")&&(o.forEach((t=>{t.style.backgroundColor="black"})),alert(`${o[0].getAttribute("player")} wins!`),win=!0),o=[t]}))}))};</script><style>.board{display:grid;grid-template-columns:repeat(7,1fr);grid-gap:10px;width:630px;height:540px;border-radius:10px;background-color:#1c62f1;padding:10px}#coin,.cell{border-radius:50%}#coin{width:90px;height:90px;opacity:0}.cell{cursor:pointer;background-color:#fff}</style>